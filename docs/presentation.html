<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bare metal web components</title>
    <style>
      main {
        display: flex;
        flex-direction: column;
        border: 1px solid red;
      }
      section {
        padding-bottom: 4em;
        border-bottom: 1px solid black;
      }

      article {
        border-left: 10px solid lightgoldenrodyellow;
        min-height: 1000px;
      }

      h2 {
        border-bottom: 1px dotted blue;
        margin: 1em;
      }
      h3 {
        margin: 1em 1em 1em 1.5em;
      }
      li {
        padding: 0.4em;
      }
    </style>
  </head>
  <body>
    <main>
      <section id="intro">
        <article>
          <h1>Bare metal Web Components</h1>
          <h2>Welcome!</h2>
          <ul>
            <li>
              What would happen if you actively chose to not rely on
              abstractions like frameworks, libraries, build chains, transpilers
              and whatnot for your component-based frontend architectures? your
              web applications? your web pages? or even your design systems?
            </li>

            <li>
              Let's talk for a bit about what is available "under the hood" in
              our modern browsers from a "pure vanilla" web standards
              perspective.
            </li>
            <li>
              Hi - I'm <a href="https://jarvklo.se">Åke Järvklo</a> , and I am
              an evergreen developer / old web dog. Well sort of :)
            </li>
          </ul>
        </article>
      </section>
      <section id="basics">
        <h1>Follow me back to the basics</h1>
        <article>
          <h2>DX? DX!</h2>
          <ul>
            <li>Well - it's up to you sir - what's your preference?</li>
            <li>"Then you simply" ... (been there, done that)</li>
            <li>
              And what kind of "<a
                href="https://www.lego.com/en-us/product/tree-house-21318"
                >Lego bricks</a
              >" are we actually talking about BTW?
            </li>
            <li>
              Lets keep it really simple and look at some of what is available
              in our browsers when starting from an empty HTML page
            </li>
          </ul>
        </article>

        <article>
          <h2>A bit of history</h2>

          <h3>
            Minimal HTML and
            <a href="https://validator.nu" target="_blank">the validator</a>
          </h3>
          <ul>
            <li>Doctypes and browser wars (backwards compatibilty)</li>
            <li>HTML 5 (W3C vs WHATWG)</li>
            <li>
              <a href="https://html.spec.whatwg.org/multipage/" target="_blank"
                >Living standard</a
              >
            </li>
          </ul>
        </article>
        <article>
          <h2>So - Basics</h2>
          <h3>
            Standards pop quiz - elements, tags, attributes and basic behaviour
          </h3>
          [accordion - please!]
          <ul>
            <li>tag</li>
            <li>div</li>
            <li>div /div</li>

            <li>img</li>
            <li>img/</li>

            <li>p</li>

            <li>div class</li>
            <li>div data-whatever</li>
            <li>div whatever</li>

            <li>magic-gizmo</li>
            <li>magic-gizmo - / magic-gizmo</li>

            <li>magic-gizmo class</li>
            <li>magic-gizmo data-whatever</li>
            <li>magic-gizmo whatever</li>

            <li>magic-gizmo/</li>
          </ul>
          <div>
            <h3>
              But a custom element like <magic-gizmo /> surely won't work? (or
              so they say)
            </h3>
            <ul>
              <li>
                Well, actually, there is this
                <a
                  href="https://jarvklo.github.io/baremetal-components/index.xhtml"
                  >nerdy "party trick"
                </a>
                that proves that it's doable.
              </li>
              <li>
                And it works since
                <a href="https://html.spec.whatwg.org/#the-xhtml-syntax"
                  >application/xhtml+xml</a
                >
                is still a thing in HTML5 (and browsers still ask for that
                MIME-type)
              </li>
            </ul>
          </div>
        </article>
      </section>

      <section id="customelements">
        <h1>Custom elements</h1>
        <article>
          <h2>Use case: Rapid prototyping in code</h2>
          <ul>
            <li>
              <a href="https://codepen.io/jarvklo/pen/JjxdEQe">let's dig in</a>
            </li>
          </ul>
        </article>
        <article>
          <h2>Css and scoping</h2>
          <h3>&lt;style scoped&gt; is not a platform thing!</h3>

          <ul>
            <li>That proposal was dropped a long time ago</li>
            <li>However...</li>
            <li>
              <a href="https://chriscoyier.net/2023/10/19/style-scoped/"
                >https://chriscoyier.net/2023/10/19/style-scoped/</a
              >
            </li>
            <li>
              Until more CSS goodness gets available - knoweth thy CSS Cascade!
            </li>
            <li>
              ... or consider using a preprocessor or styling framework if you
              want (or need) to stay out of the shadow DOM
            </li>
          </ul>
        </article>
        <article>
          <h2>Light Dom and the APIs</h2>
          <ul>
            <li>
              Kind of sounds like a pop group from the swinging sixties doesn't
              it?
            </li>
          </ul>

          <h3>Autonomous and customized custom elements</h3>
          <ul>
            <li>Autonomous custom elements extends from HTMLElement (v1)</li>
            <li>... and is widely implemented/available</li>
            <li>
              There's also autonomous custom element (v2) that extends the
              functionality of other standars elements
            </li>
            <li>
              TODO: CanIUse and v1 vs v2 (v2 was dropped and targeted for
              exclusion, but may be revived again)
            </li>
            <li>
              ... so perhaps there's hope for the future?
              <a
                href="https://eisenbergeffect.medium.com/web-components-at-tpac-2023-f6da57519eb9"
                >web-components-at-tpac-2023</a
              >
              )
            </li>
          </ul>
        </article>
      </section>
      <section id="lifecycleevents">
        <h1>Life cycle events and stuff</h1>
        <article>
          <h2>Life cycle???</h2>
          <ul>
            <li>
              Implementing the hooks can be a way to structure javascript code
            </li>
            <li>TODO: Article or pen</li>
          </ul>
        </article>
        <article>
          <h2>Templating part 1 - Templates in the light dom</h2>
          <ul>
            <li>As we've seen</li>
            <li>Combining ideas and the platform can be useful</li>
          </ul>
        </article>
        <article>
          <h2>Event propagation</h2>
          <h3>Radiobutton sample, part 1</h3>
          <ul>
            <li>TODO: pen from the radiobutton sample / article</li>
            <li>TODO: link to the radiobutton sample / article</li>
          </ul>

          <h3>Vanilla Buttons handle a lot for free</h3>
          <ul>
            <li>TODO:</li>
          </ul>
          >

          <h3>Extending the window object with an event bus</h3>
          <ul>
            <li>
              <a
                href="https://betterprogramming.pub/poor-mans-event-bus-with-zero-lines-of-code-d4e66fe8f56b"
                >Poor man's event bus with zero lines of code</a
              >
            </li>
            <li>TODO: ? Pen</li>
          </ul>
          >
        </article>
        <article>
          <h2>
            But wait - doesn't this feel very similar to the micro frontend
            pattern?
          </h2>
          <blockquote>
            <p>We call this technique micro frontends which we define as:</p>
            &quot;An architectural style where independently deliverable
            frontend applications are composed into a greater whole&quot;
          </blockquote>
          <ul>
            <li>
              <a
                href="https://martinfowler.com/articles/micro-frontends.html#Run-timeIntegrationViaWebComponents"
                >martinfowler.com/articles/micro-frontends.html</a
              >
            </li>
          </ul>
        </article>
        <article>
          <h2>... or perhaps even Island architecture?</h2>
          <ul>
            <li>
              <a
                href="https://betterprogramming.pub/poor-mans-island-architecture-cbcb0ac45092"
                >Poor man's islands architecture</a
              >
            </li>
          </ul>
        </article>
      </section>

      <section id="reactivity">
        <h1>Reactivity via observed attributes</h1>
        <p>&nbsp;</p>
        <article>
          <h2>The incrementing button sample</h2>
          <ul>
            <li>stores state in a prop</li>
            <li>"just works" ...</li>
            <li>... as long as the component is registered on the page</li>
            <li>TODO: Demo by tweaking attribute value on the page?</li>
          </ul>
        </article>
        <article>
          <h2>Include fragment component sample</h2>
          <ul>
            <li>Wc-include</li>
            <li>TODO: pen</li>
          </ul>
        </article>
        <article>
          <h2>Infinite paging include (rss?) component</h2>

          <ul>
            <li>Load more button?</li>
            <li>Infinite scroll by Intersection Observer?</li>
            <li>TODO: Kill this darling?</li>
          </ul>
        </article>
      </section>

      <section id="shadowdom">
        <h1>Welcome to the dark side</h1>
        <article>
          <h2>The shadow dom</h2>
          <h3>Open/closed</h3>
          <ul>
            <li>
              TODO: Pen from the radiobutton article? or link to example/article
            </li>
          </ul>

          <h3>Hey - where did my button go?</h3>
          <ul>
            <li>TODO: Pen from the radiobutton article?</li>
          </ul>
        </article>

        <article>
          <h2>Templating Part 2 - When using the Shadow DOM</h2>
        </article>
        <article>
          <h2>Slots and stuff</h2>
          <h3>Slots - Just how closed is the shadow DOM?</h3>
          <ul>
            <li>TODO: link or text or pen or all of the above</li>
          </ul>

          <h3>Scroedingers box?</h3>
          <ul>
            <li>Styling might (still) be a bit complex</li>
            <li>scoping styles</li>
            <li>CSS pseudo selectors (current and future)</li>
            <li>TODO: link or text or pen or all of the above</li>
            <li>CSS variables in the shadow</li>
            <li>CSS parts and all the rest of the goodies</li>
            <li>TODO: link or text or pen or all of the above</li>
          </ul>

          <h3>The complexity of constructing form elements in the dark</h3>
          <ul>
            <li>TODO: link or text or pen or all of the above</li>
          </ul>
        </article>
      </section>

      <section id="webassembly">
        <h1>This web assembly thing</h1>
        <article>
          <h2>Hello world (om jag hittar exemplet)</h2>
        </article>
        <article>
          <h2>Snabba exempel</h2>
        </article>
        <article>
          <h2>
            Implementera som ett custom-element (en webbkomponent som använder
            webassembly)
          </h2>
        </article>
        <article>
          <h2>ZX Spektrum - föreläsningen (osv osv)</h2>
        </article>
      </section>
      <section id="summary">
        <h1>Simply the best?</h1>
        <article>
          <ul>
            <li>So many possibilities - again!</li>
            <li>Tech in browsers is evolving - and fast</li>
            <li>
              For me - it is a great time to be curious and keep learning new
              tricks
            </li>
            <li>For you?</li>
            <li>Well - it's up to you, what's your preference?</li>

            <li>
              I hope I inspired you to spend some time to maybe reflect over if
              you're about to reinvent a wheel (or use a reinvented and perhaps
              overly complex set of Lego bricks to build one) the next time you
              "pick your poison" for a frontend project
            </li>

            <li>
              ... regardless of whatever a "wheel" actually is to you and to
              your your team, in your particular project, and regardless how you
              feel about defining your world using toys produced by Lego
            </li>
            <li>There's always more than one way...</li>
            <li><a href="https://jarvklo.se">Stay curious!</a></li>
          </ul>
          <h2>Resources</h2>
          <ul>
            <li>
              <a href="https://github.com/jarvklo/baremetal-components"
                >Github repo</a
              >
            </li>
          </ul>
          <ul>
            <li>
              <a href="https://github.com/jarvklo/baremetal-components"
                >Github repo</a
              >
            </li>
          </ul>
          <ul>
            <li><a href="https://codepen.io/collection/mrQVQw">Codepen</a></li>
          </ul>
        </article>
      </section>
    </main>
  </body>
</html>
